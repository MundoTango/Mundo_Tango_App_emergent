#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ðŸ” Running pre-commit quality checks..."

# Token validation
echo "â†’ Validating design tokens..."
node design-system/scripts/validate-tokens.js

if [ $? -ne 0 ]; then
  echo "âŒ Token validation failed! Please fix hardcoded colors before committing."
  exit 1
fi

# Bundle size check (quick)
echo "â†’ Checking bundle size..."
npm run bundle:stats --silent 2>/dev/null || true

# Security scan (quick - latest only)
echo "â†’ Running security scan..."
npm run security:latest --silent 2>/dev/null || true

echo "âœ… Pre-commit checks complete!"
